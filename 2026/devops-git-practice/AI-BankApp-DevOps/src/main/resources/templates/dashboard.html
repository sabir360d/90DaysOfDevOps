<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" data-theme="dark">
<head th:replace="~{fragments/layout :: head('Dashboard - BankApp')}"></head>
<body>
<div class="d-flex flex-column min-vh-100">
    <nav th:replace="~{fragments/layout :: navbar-auth}"></nav>

    <div class="dashboard-wrapper fade-in">
        <!-- Balance Card -->
        <div class="glass-card balance-card fade-in">
            <div class="balance-label">Total Balance</div>
            <div class="balance-amount">
                <span class="currency">$</span><span th:text="${#numbers.formatDecimal(account.balance, 1, 2)}">0.00</span>
            </div>
            <div class="account-info">
                <span><i class="bi bi-person-circle"></i> <span th:text="${account.username}">user</span></span>
                <span><i class="bi bi-hash"></i> Account #<span th:text="${account.id}">1</span></span>
                <span><i class="bi bi-wallet2"></i> Savings</span>
            </div>
        </div>

        <!-- Error Message -->
        <div th:if="${error}" class="alert alert-glass mb-4 text-center fade-in">
            <i class="bi bi-exclamation-triangle"></i> <span th:text="${error}"></span>
        </div>

        <!-- Action Cards -->
        <div class="action-cards">
            <!-- Deposit -->
            <div class="glass-card action-card fade-in fade-in-delay-1">
                <h5><i class="bi bi-plus-circle text-success"></i> Deposit</h5>
                <form th:action="@{/deposit}" method="post">
                    <div class="mb-3">
                        <label class="form-label" for="depositAmount">Amount</label>
                        <input type="number" class="form-control" id="depositAmount" name="amount"
                               step="0.01" min="0.01" placeholder="0.00" required>
                    </div>
                    <button type="submit" class="btn btn-accent w-100">
                        <i class="bi bi-arrow-down-circle"></i> Deposit
                    </button>
                </form>
            </div>

            <!-- Withdraw -->
            <div class="glass-card action-card fade-in fade-in-delay-2">
                <h5><i class="bi bi-dash-circle text-danger"></i> Withdraw</h5>
                <form th:action="@{/withdraw}" method="post">
                    <div class="mb-3">
                        <label class="form-label" for="withdrawAmount">Amount</label>
                        <input type="number" class="form-control" id="withdrawAmount" name="amount"
                               step="0.01" min="0.01" placeholder="0.00" required>
                    </div>
                    <button type="submit" class="btn btn-accent w-100">
                        <i class="bi bi-arrow-up-circle"></i> Withdraw
                    </button>
                </form>
            </div>

            <!-- Transfer -->
            <div class="glass-card action-card fade-in fade-in-delay-3">
                <h5><i class="bi bi-arrow-left-right text-info"></i> Transfer</h5>
                <form th:action="@{/transfer}" method="post">
                    <div class="mb-3">
                        <label class="form-label" for="toUsername">Recipient Username</label>
                        <input type="text" class="form-control" id="toUsername" name="toUsername"
                               placeholder="Enter username" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="transferAmount">Amount</label>
                        <input type="number" class="form-control" id="transferAmount" name="amount"
                               step="0.01" min="0.01" placeholder="0.00" required>
                    </div>
                    <button type="submit" class="btn btn-accent w-100">
                        <i class="bi bi-send"></i> Transfer
                    </button>
                </form>
            </div>
        </div>
    </div>

    <footer th:replace="~{fragments/layout :: footer}"></footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
